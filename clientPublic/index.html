<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VirtualFit - Cliente</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Pantalla de Login -->
        <div id="loginScreen" class="screen active">
            <div class="login-container">
                <div class="login-header">
                    <h1><i class="fas fa-shopping-bag"></i> VirtualFit</h1>
                    <p>Tu tienda de ropa virtual</p>
                </div>
                
                <div class="login-tabs">
                    <button class="tab-button active" data-tab="login">
                        <i class="fas fa-sign-in-alt"></i> Iniciar Sesión
                    </button>
                    <button class="tab-button" data-tab="register">
                        <i class="fas fa-user-plus"></i> Registrarse
                    </button>
                </div>
                
                <div id="loginForm" class="auth-form active">
                    <form id="loginFormElement">
                        <div class="form-group">
                            <label for="loginEmail">
                                <i class="fas fa-envelope"></i> Correo Electrónico
                            </label>
                            <input type="email" id="loginEmail" name="correo" required>
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">
                                <i class="fas fa-lock"></i> Contraseña
                            </label>
                            <input type="password" id="loginPassword" name="password" required>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-sign-in-alt"></i> Iniciar Sesión
                        </button>
                    </form>
                </div>
                
                <div id="registerForm" class="auth-form">
                    <form id="registerFormElement">
                        <div class="form-group">
                            <label for="registerEmail">
                                <i class="fas fa-envelope"></i> Correo Electrónico
                            </label>
                            <input type="email" id="registerEmail" name="correo" required>
                        </div>
                        <div class="form-group">
                            <label for="registerPassword">
                                <i class="fas fa-lock"></i> Contraseña
                            </label>
                            <input type="password" id="registerPassword" name="password" required>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-user-plus"></i> Registrarse
                        </button>
                    </form>
                </div>
                
                <div id="authError" class="error-message" style="display: none;"></div>
                <div id="authLoading" class="loading" style="display: none;">
                    <i class="fas fa-spinner fa-spin"></i> Conectando...
                </div>
            </div>
        </div>
        
        <!-- Pantalla Principal -->
        <div id="mainScreen" class="screen">
            <!-- Header -->
            <header class="app-header">
                <div class="header-content">
                    <div class="logo">
                        <i class="fas fa-shopping-bag"></i>
                        <span>VirtualFit</span>
                    </div>
                    
                    <nav class="main-nav">
                        <button class="nav-button active" data-view="catalog">
                            <i class="fas fa-th-large"></i> Catálogo
                        </button>
                        <button class="nav-button" data-view="wishlist">
                            <i class="fas fa-heart"></i> Lista de Deseos
                        </button>
                        <button class="nav-button" data-view="cart">
                            <i class="fas fa-shopping-cart"></i> Carrito
                            <span id="cartCount" class="badge">0</span>
                        </button>
                        <button class="nav-button" data-view="orders">
                            <i class="fas fa-receipt"></i> Órdenes
                        </button>
                        <button class="nav-button" data-view="asai">
                            <i class="fas fa-robot"></i> ASAI Chat
                        </button>
                    </nav>
                    
                    <div class="user-menu">
                        <div class="user-info">
                            <span id="userEmail"></span>
                            <span id="userPoints" class="points">0 ASAIpoints</span>
                        </div>
                        <button id="logoutBtn" class="btn btn-secondary">
                            <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                        </button>
                    </div>
                </div>
            </header>
            
            <!-- Contenido Principal -->
            <main class="main-content">
                <!-- Vista Catálogo -->
                <div id="catalogView" class="view active">
                    <div class="view-header">
                        <h2><i class="fas fa-th-large"></i> Catálogo de Productos</h2>
                        
                        <div class="search-filters">
                            <div class="search-bar">
                                <input type="text" id="searchInput" placeholder="Buscar productos...">
                                <button id="searchBtn" class="btn btn-primary">
                                    <i class="fas fa-search"></i> Buscar
                                </button>
                            </div>
                            
                            <button id="filterBtn" class="btn btn-secondary">
                                <i class="fas fa-filter"></i> Filtros
                            </button>
                        </div>
                    </div>
                    
                    <div id="catalogContent">
                        <div id="catalogProducts" class="products-grid"></div>
                        
                        <div id="catalogPagination" class="pagination">
                            <button id="catalogPrevBtn" class="btn btn-secondary">
                                <i class="fas fa-chevron-left"></i> Anterior
                            </button>
                            <span id="catalogPageInfo" class="page-info">Página 1 de 1</span>
                            <button id="catalogNextBtn" class="btn btn-secondary">
                                Siguiente <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Vista Lista de Deseos -->
                <div id="wishlistView" class="view">
                    <div class="view-header">
                        <h2><i class="fas fa-heart"></i> Mi Lista de Deseos</h2>
                    </div>
                    
                    <div id="wishlistContent">
                        <div id="wishlistProducts" class="products-grid"></div>
                        
                        <div id="wishlistPagination" class="pagination">
                            <button id="wishlistPrevBtn" class="btn btn-secondary">
                                <i class="fas fa-chevron-left"></i> Anterior
                            </button>
                            <span id="wishlistPageInfo" class="page-info">Página 1 de 1</span>
                            <button id="wishlistNextBtn" class="btn btn-secondary">
                                Siguiente <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Vista Carrito -->
                <div id="cartView" class="view">
                    <div class="view-header">
                        <h2><i class="fas fa-shopping-cart"></i> Mi Carrito</h2>
                    </div>
                    
                    <div id="cartContent">
                        <div id="cartItems" class="cart-items"></div>
                        
                        <div id="cartSummary" class="cart-summary">
                            <div class="summary-row">
                                <span>Subtotal:</span>
                                <span id="cartSubtotal">$0.00</span>
                            </div>
                            <div class="summary-row total">
                                <span>Total:</span>
                                <span id="cartTotal">$0.00</span>
                            </div>
                            
                            <button id="checkoutBtn" class="btn btn-primary btn-large">
                                <i class="fas fa-credit-card"></i> Proceder al Pago
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Vista Órdenes -->
                <div id="ordersView" class="view">
                    <div class="view-header">
                        <h2><i class="fas fa-receipt"></i> Mis Órdenes</h2>
                    </div>
                    
                    <div id="ordersContent">
                        <div id="ordersList" class="orders-list"></div>
                    </div>
                </div>
                
                <!-- Vista ASAI Chat -->
                <div id="asaiView" class="view">
                    <div class="view-header">
                        <h2><i class="fas fa-robot"></i> ASAI Assistant</h2>
                        <p>Pregúntame sobre productos, tu pedido o cualquier cosa sobre VirtualFit</p>
                    </div>
                    
                    <div id="asaiContent">
                        <div id="chatMessages" class="chat-messages"></div>
                        
                        <div class="chat-input">
                            <input type="text" id="chatInput" placeholder="Escribe tu pregunta aquí...">
                            <button id="chatSendBtn" class="btn btn-primary">
                                <i class="fas fa-paper-plane"></i> Enviar
                            </button>
                        </div>
                        
                        <div class="chat-suggestions">
                            <p>Preguntas sugeridas:</p>
                            <div class="suggestions">
                                <button class="suggestion-btn">buscar zapatillas</button>
                                <button class="suggestion-btn">mostrar productos nike</button>
                                <button class="suggestion-btn">tienes algo de color azul</button>
                                <button class="suggestion-btn">estado de mi pedido</button>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- Modales -->
    
    <!-- Modal de Filtros -->
    <div id="filterModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-filter"></i> Filtros de Búsqueda</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="filterForm">
                    <div class="form-group">
                        <label for="filterMarca">Marca:</label>
                        <input type="text" id="filterMarca" name="marca" placeholder="Ej: Nike, Adidas...">
                    </div>
                    <div class="form-group">
                        <label for="filterCategoria">Categoría:</label>
                        <input type="text" id="filterCategoria" name="categoria" placeholder="Ej: Zapatillas, Poleras...">
                    </div>
                    <div class="form-group">
                        <label for="filterColor">Color:</label>
                        <input type="text" id="filterColor" name="color" placeholder="Ej: Azul, Rojo...">
                    </div>
                    <div class="form-group">
                        <label for="filterTalla">Talla:</label>
                        <input type="text" id="filterTalla" name="talla" placeholder="Ej: M, L, XL...">
                    </div>
                    <div class="form-group">
                        <label for="filterPrecioMin">Precio mínimo:</label>
                        <input type="number" id="filterPrecioMin" name="precio_min" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label for="filterPrecioMax">Precio máximo:</label>
                        <input type="number" id="filterPrecioMax" name="precio_max" placeholder="1000">
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="filterDisponibles" name="solo_disponibles">
                            Solo productos disponibles
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="applyFiltersBtn" class="btn btn-primary">
                    <i class="fas fa-check"></i> Aplicar Filtros
                </button>
                <button id="clearFiltersBtn" class="btn btn-secondary">
                    <i class="fas fa-times"></i> Limpiar Filtros
                </button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Checkout -->
    <div id="checkoutModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-credit-card"></i> Procesar Pago</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="checkoutForm">
                    <div class="form-group">
                        <label for="checkoutDireccion">Dirección de Envío:</label>
                        <select id="checkoutDireccion" name="direccion_id" required>
                            <option value="">Selecciona una dirección</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="checkoutMetodoPago">Método de Pago:</label>
                        <select id="checkoutMetodoPago" name="metodo_pago_id" required>
                            <option value="">Selecciona un método de pago</option>
                        </select>
                    </div>
                    <div id="pointsDiscount" class="form-group" style="display: none;">
                        <label class="checkbox-label">
                            <input type="checkbox" id="usePoints" name="use_points">
                            Usar 100 ASAIpoints para 20% de descuento
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="confirmPaymentBtn" class="btn btn-primary">
                    <i class="fas fa-credit-card"></i> Confirmar Pago
                </button>
                <button class="modal-close btn btn-secondary">
                    <i class="fas fa-times"></i> Cancelar
                </button>
            </div>
        </div>
    </div>
    
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Cargando...</p>
        </div>
    </div>
    
    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>
    
    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html> 